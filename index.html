<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Hololive Photo Transition</title>
		<link rel="stylesheet" href="style.css" />
	</head>
	<body>
		<h1 id="name"></h1>
		<div id="main-image"></div>
		<script>
			document.addEventListener('DOMContentLoaded', () => {
				const photoCollection = [
					// 0th Gen
					'Tokino_Sora',
					'Roboco_San',
					'Sakura_Miko',
					'Hoshimachi_Suisei',
					// 1st Gen
					'Shirakami_Fubuki',
					'Natsuiro_Matsuri',
					'Yozora_Mel',
					'Akai_Haato',
					'Aki_Rosenthal',
					// 2nd Gen
					'Minato_Aqua',
					'Yuzuki_Choco',
					'Nakiri_Ayame',
					'Murasaki_Shion',
					'Oozora_Subaru',
					// Gamers
					'Ookami_Mio',
					'Nekomata_Okayu',
					'Inugami_Korone',
					// 3rd Gen
					'Houshou_Marine',
					'Shiranui_Flare',
					'Shirogane_Noel',
					'Uruha_Rushia',
					'Usada_Pekora',
					// 4th Gen
					'Amane_Kanata',
					'Kiryu_Coco',
					'Tsunomaki_Watame',
					'Tokoyami_Towa',
					'Himemori_Luna',
					// 5th Gen
					'Yukihana_Lamy',
					'Momosuzu_Nene',
					'Shishiro_Botan',
					'Mano_Aloe',
					'Omaru_Polka',
				];

				const nameDOM = document.querySelector('#name');
				const divDOM = document.querySelector('#main-image');

				photoCollection.forEach((photo, index) => {
					const img = document.createElement('img');
					img.src = `./Image/${photo}.png`;
					divDOM.appendChild(img);
				});

				const imagesDOM = Array.from(document.querySelectorAll('img'));
				console.log(imagesDOM);

				let counter = 1;
				let prev = counter - 1;
				// Initialize
				nameDOM.innerText = photoCollection[prev].split('_').join(' ');
				imagesDOM[prev].classList.add('show');

				// Execute after each iteration end
				divDOM.onanimationiteration = () => {
					// Show current name
					nameDOM.innerText = photoCollection[counter].split('_').join(' ');

					// Show current img
					imagesDOM[counter].classList.toggle('show');
					// Hide previous img
					imagesDOM[prev].classList.toggle('show');

					// Set previous = counter
					prev = counter;
					// Increment counter
					counter = (counter + 1) % photoCollection.length;
				};
			});
		</script>
	</body>
</html>
